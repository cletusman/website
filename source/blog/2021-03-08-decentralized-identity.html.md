---
title: Децентрализация идентичности
date: 2021-03-08 15:39 UTC
tags: децентрализация, распределённые приложения, bitcoin, dash, криптовалюты
image: /assets/images/blog/did-full.png
medium_link: https://link.medium.com/U3cfEBjGseb
---

Создание полностью распределённых сервисов - это очень сложная задача.
О причинах этого мы уже говорили в статьях
"[Децентрализованные сервисы против распределённых](/blog/2020/06/04/decentralized-vs-distributed.html)"
и
“[Перспективы избавления от цензуры технологических корпораций](/blog/20021/01/13/corporate-censorship.html)”.
В то же время федеративные сервисы вынуждают выбирать либо крупные сервера, что
способствует централизации с неизбежно следующими за ней цензурой и слежкой,
либо маленькие сервера, которые имеют высокие издержки на их содержание и не
могут гарантировать долговечность. В обоих случаях ваш идентификатор и ваши
данные оказываются навсегда привязанными к выбранному серверу.

Идентификатор является одним из ключевых элементов цифрового профиля
пользователя. В данной статье мы рассмотрим, как можно обеспечить полный перенос
его между серверами. Во-первых, потому что это даже важнее переноса данных.
Идентификатор вы указываете на множестве сторонних ресурсов, и заменить его
везде бывает весьма проблематично. На основе идентификации профиля происходит
решение о возможности сообщения ему конфиденциальной информации. Во-вторых,
потому что обеспечить возможность переноса данных между серверами в крайнем
случае проще, чем строить полностью распределённую систему.

Подходы
-------

Обеспечить идентификацию пользователя без привязки к конкретному серверу можно
различными способами. Мы рассмотрим некоторые их них.

### Привязка к личности

В качестве идентификатора можно использовать ваши реальные данные. Обеспечивать
их верификацию будут органы государственной власти. Это тот случай, когда
решение проблемы создаёт ещё большую проблему:

* Человека часто нельзя однозначно идентифицировать по комбинации фамилии,
  имени, отчества и даты рождения.
* Человека можно однозначно идентифицировать по паспортным данным, но они обычно
  не должны быть публичными.
* Во многих странах, не говоря уже о международном сообществе, отсутствует
  какой-либо универсальный публичный идентификатор личности.
* Органы государственной власти не всегда работают быстро и порой для получения
  услуг требуется оплата пошлины.
* Люди небезосновательно не хотят предоставлять свои личные данные компаниям и
  другим людям.
* Такой подход ещё больше увеличивает зависимость человека от государства, что
  может быть даже хуже, чем зависимость от корпораций.

Хотя с ростом цифровизации многие государства будут стремиться решать
технические проблемы и уменьшать издержки взаимодействия с органами власти через
интернет (например, больших успехов в этом достигли
в [Эстонии](https://en.wikipedia.org/wiki/Estonian_identity_card)), стоит
избегать такого взаимодействия кроме как в тех сферах, где у государства уже есть монополия.

### Номер телефона

В качестве идентификатора можно использовать ваш номер телефона. В таком случае
вход в сервисы происходит по одноразовому коду, получаемому с помощью текстового
сообщения или звонка.

Номер телефона можно считать государственным идентификатором личности. Таким
образом, этот способ исправляет неудобства привязки к личности. Также он
является чуть более анонимным, потому что позволяет использовать номер,
зарегистрированный на другого человека. Однако зависимость от государства при
этом способе всё ещё велика. Государства обычно стремятся знать, кто является
владельцем номера телефона, и имеют доступ к сообщениям и звонкам.

Также этот способ не обеспечивает настоящей децентрализации. Например, в
федеративном протоколе обмена сообщениями Matrix возможна идентификация по
номеру телефона, но она требует привязки к конкретному сервису, называемому
[identity server](https://matrix.org/faq/#what-is-an-identity-server%3F).

### Адрес электронной почты

Хотя использование в качестве идентификатора адреса электронной почты является
более анонимным, чем использование номера телефона, этот способ также не
обеспечивает децентрализации, привязывая пользователя как к конкретному сервису
электронной почты, так и к сервису, который осуществляет идентификацию. Здесь
подходит тот же пример с
[identity server](https://matrix.org/faq/#what-is-an-identity-server%3F)
в Matrix.

### Централизованный сервер идентификации

Можно делегировать идентификатор некоторому стороннему сервису, который будет
аутентифицировать пользователей, например, по протоколам OAuth или OpenID. Такую
возможность предоставляют многие крупные сервисы, такие как Google, Facebook,
VK, GitHub. Этот способ не решает проблему централизации, но по крайней мере
позволяет вам выбрать того поставщика услуги, которого вы считаете наиболее
надёжным.

### Публичный криптографический ключ

Использование криптографии, а именно электронной цифровой подписи, является
первым из рассматриваемых способом, который позволяет однозначно
идентифицировать пользователя без посредников. В простейшем случае собеседник
не считает ваши сообщения вашими, если они не подписаны вашим приватным ключом.

Сам по себе публичный ключ ничего не говорит о том, как найти его владельца,
поэтому этот способ требует дополнительной инфраструктуры. Например, в протоколе
обмена электронными сообщениями [Tox](https://tox.chat/) используется
одноранговая сеть с распределённой хэш-таблицей (англ. DHT — distributed hash
table).

Из-за этой особенности такой способ не является переносимым между различными
технологиями. Все технологии должны полагаться на ту, которая лежит в основе.
Каковы гарантии, что эта ключевая сеть будет существовать?

### Криптовалютный адрес

Использование криптовалютного адреса означает использование всё того же
публичного криптографического ключа, но решает проблему долговечности. Блокчейн
проживёт долго по понятным экономическим причинам.

Большинство криптовалют позволяют привязать к адресу произвольные данные
ограниченной длины. Не только Ethereum, который в том числе для этого и
создавался, но и предназначенные исключительно для хранения финансовой
информации криптовалюты, такие как Bitcoin или Dash, за счёт команды
[OP_RETURN](https://en.bitcoin.it/wiki/OP_RETURN). Именно практическое
использование OP_RETURN мы рассмотрим позже в этой статье.
